<a href="/heroes/<%= @hero.id %>"><%= @hero.name %> Hero Page</a>
<a style="padding-left:10px" href="/heroes">Hero Index</a>
<a style="padding-left:10px" href="/mounts">Mount Index</a><br>

<%= link_to 'Sort by name', "/heroes/#{@hero.id}/mounts?sort=asc" %>
<%= form_tag "/heroes/#{@hero.id}/mounts", method: :patch do %>
  <%= label_tag %>
  <%= text_field_tag :level %>

  <%= submit_tag 'All Mounts above level' %>
<% end %>

<h1><%= @hero.name %> Mounts</h1>

<% if params[:sort]%>
  <% @hero.mounts.sorted.each do |mount| %>
    <div style="border:solid white;background:lightgrey;color:black;padding:15px;font-size:18px">
      <h2><a href="/mounts/<%= mount.id %>"> <%= mount.name %></a></h2>
        <p><b>Name:       </b><%= mount.name       %></p>
        <p><b>fly?:       </b><%= mount.fly        %></p>
        <p><b>level:      </b><%= mount.level      %></p>
        <p><b>Created At: </b><%= mount.created_at %></p>
        <p><b>Updated At: </b><%= mount.updated_at %></p>
        <p><b>Hero ID: </b><%= mount.hero_id %></p>
      <form action="/mounts/<%= mount.id %>" method="POST">
        <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
        <input type="hidden" name="_method" value="DELETE">
        <input type="submit" value="delete"/>
      </form>
    </div>
  <% end %>
<% elsif params[:level]%>
  <% @hero.mounts.level_above(params[:level]).each do |mount| %>
    <div style="border:solid white;background:lightgrey;color:black;padding:15px;font-size:18px">
      <h2><a href="/mounts/<%= mount.id %>"> <%= mount.name %></a></h2>
        <p><b>Name:       </b><%= mount.name       %></p>
        <p><b>fly?:       </b><%= mount.fly        %></p>
        <p><b>level:      </b><%= mount.level      %></p>
        <p><b>Created At: </b><%= mount.created_at %></p>
        <p><b>Updated At: </b><%= mount.updated_at %></p>
        <p><b>Hero ID:    </b><%= mount.hero_id    %></p>
      <form action="/mounts/<%= mount.id %>" method="POST">
        <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
        <input type="hidden" name="_method" value="DELETE">
        <input type="submit" value="delete"/>
      </form>
    </div>
  <% end %>
<% else %>
  <% @hero.mounts.each do |mount| %>
    <div style="border:solid white;background:lightgrey;color:black;padding:15px;font-size:18px">
      <h2><a href="/mounts/<%= mount.id %>"> <%= mount.name %></a></h2>
        <p><b>Name:       </b><%= mount.name       %></p>
        <p><b>fly?:       </b><%= mount.fly        %></p>
        <p><b>level:      </b><%= mount.level      %></p>
        <p><b>Created At: </b><%= mount.created_at %></p>
        <p><b>Updated At: </b><%= mount.updated_at %></p>
        <p><b>Hero ID:    </b><%= mount.hero_id    %></p>

      <form action="/mounts/<%= mount.id %>" method="POST">
        <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
        <input type="hidden" name="_method" value="DELETE">
        <input type="submit" value="delete"/>
      </form>

      <form style="padding:20px;" action="/mounts/<%= mount.id  %>/edit" method="get">
        <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
        <input type="submit" value="Update Mount">
      </form>
    </div>
  <% end %>
<% end %>
  <form action="/heroes/<%= @hero.id %>/mounts/new" method="get">
    <input id="name" type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
    <input type="submit" value="Add New Mount">
  </form>
